/// <reference types="node" />
import { URL } from 'url';
import { inspect } from 'util';
import VK from '../vk';
import MultipartStream from './multipart-stream';
import { AllowArray } from '../types';
import { PhotoAttachment, AudioAttachment, VideoAttachment, DocumentAttachment, GraffitiAttachment, AudioMessageAttachment } from '../structures/attachments';
/**
 * Stream, buffer, url or file path
 */
export declare type UploadSourceType = NodeJS.ReadableStream | Buffer | string;
export declare type UploadSourceValue = UploadSourceType | {
    value: UploadSourceType;
    contentType?: string;
    filename?: string;
};
export interface IUploadSourceParams {
    values: AllowArray<UploadSourceValue>;
    uploadUrl?: string;
    timeout?: number;
}
export declare type UploadSource = IUploadSourceParams | AllowArray<UploadSourceValue> | AllowArray<UploadSourceType>;
export interface IUploadParams {
    source: UploadSource;
}
export interface IUploadConduct {
    /**
     * Field name
     */
    field: string;
    /**
     * Upload params
     */
    params: IUploadParams & Record<string, any>;
    /**
     * Get server functions
     */
    getServer: (params: Record<string, any>) => {
        upload_url: string;
    };
    /**
     * Copies server params
     */
    serverParams?: string[];
    /**
     * Save files functions
     */
    saveFiles: (params: Record<string, any>) => Record<string, any>;
    /**
     * Copies save params
     */
    saveParams?: string[];
    /**
     * Max uploaded files for one request
     */
    maxFiles: number;
    /**
     * Attachment type
     */
    attachmentType?: string;
    /**
     * Download exclusively in Buffer
     */
    forceBuffer?: boolean;
}
export interface IStoryObject {
    id: number;
    owner_id: number;
    date: number;
    is_expired: boolean;
    is_deleted: boolean;
    can_see: number;
    seen: number;
    type: number;
    photo: object;
    video: object;
    link: object;
    parent_story_owner_id: number;
    parent_story_id: number;
    parent_story: IStoryObject;
    replies: object;
    can_reply: number;
    can_share: number;
    can_comment: number;
    views: number;
    access_key: string;
}
export default class Upload {
    private vk;
    graffiti: (params: object) => Promise<any>;
    /**
     * Constructor
     */
    constructor(vk: VK);
    /**
     * Returns custom tag
     */
    get [Symbol.toStringTag](): string;
    /**
     * Uploading photos to an album
     */
    photoAlbum(params: IUploadParams & {
        album_id: number;
        group_id?: number;
        caption?: string;
        latitude?: number;
        longitude?: number;
    }): Promise<PhotoAttachment[]>;
    /**
     * Uploading photos to the wall
     */
    wallPhoto(params: IUploadParams & {
        user_id?: number;
        group_id?: number;
        caption?: string;
        latitude?: number;
        longitude?: number;
    }): Promise<PhotoAttachment>;
    /**
     * Uploading the main photo of a user or community
     */
    ownerPhoto(params: IUploadParams & {
        owner_id?: number;
    }): Promise<{
        photo_hash: string;
        photo_src: string;
        photo_src_big: string;
        photo_src_small: string;
        saved: number;
        post_id: number;
    }>;
    /**
     * Uploading a photo to a private message
     */
    messagePhoto(params: IUploadParams & {
        peer_id?: number;
    }): Promise<PhotoAttachment>;
    /**
     * Uploading the main photo for a chat
     */
    chatPhoto(params: IUploadParams & {
        chat_id: number;
        crop_x?: number;
        crop_y?: number;
        crop_width?: number;
    }): Promise<{
        message_id: number;
        chat: object;
    }>;
    /**
     * Uploading a photo for a product
     */
    marketPhoto(params: IUploadParams & {
        group_id: number;
        main_photo?: number;
        crop_x?: number;
        crop_y?: number;
        crop_width?: number;
    }): Promise<PhotoAttachment>;
    /**
     * Uploads a photo for the selection of goods
     */
    marketAlbumPhoto(params: IUploadParams & {
        group_id: number;
    }): Promise<PhotoAttachment>;
    /**
     * Uploads audio
     */
    audio(params: IUploadParams & {
        title?: string;
        artist?: string;
    }): Promise<AudioAttachment>;
    /**
     * Uploads video
     */
    video(params: IUploadParams & {
        album_id?: number;
        group_id?: number;
        link?: string;
        name?: string;
        description?: string;
        is_private?: number;
        wallpost?: number;
        privacy_view?: string;
        privacy_comment?: string;
        no_comments?: number;
        repeat?: number;
        compression?: number;
    }): Promise<VideoAttachment>;
    /**
     * Uploads document
     */
    conductDocument(params: IUploadParams & {
        type?: string;
    }, { attachmentType }?: {
        attachmentType?: string | undefined;
    }): Promise<any>;
    /**
     * Uploads document
     */
    document(params: IUploadParams & {
        group_id?: number;
        title?: string;
        tags?: string;
    }): Promise<DocumentAttachment>;
    /**
     * Uploads wall document
     */
    conductWallDocument(params: IUploadParams & {
        type?: string;
    }, { attachmentType }?: {
        attachmentType?: string | undefined;
    }): Promise<any>;
    /**
     * Uploads wall document
     */
    wallDocument(params: IUploadParams & {
        group_id?: number;
        title?: string;
        tags?: string;
    }): Promise<DocumentAttachment>;
    /**
     * Uploads wall document
     */
    conductMessageDocument(params: IUploadParams & {
        type?: string;
    }, { attachmentType }?: {
        attachmentType?: string | undefined;
    }): Promise<any>;
    /**
     * Uploads message document
     */
    messageDocument(params: IUploadParams & {
        peer_id?: number;
        title?: string;
        tags?: string;
    }): Promise<DocumentAttachment>;
    /**
     * Uploads audio message
     */
    audioMessage(params: IUploadParams & {
        peer_id?: number;
        title?: string;
        tags?: string;
    }): Promise<AudioMessageAttachment>;
    /**
     * Uploads graffiti in documents
     */
    documentGraffiti(params: IUploadParams & {
        group_id?: number;
    }): Promise<GraffitiAttachment>;
    /**
     * Uploads graffiti in messages
     */
    messageGraffiti(params: IUploadParams & {
        peer_id?: number;
    }): Promise<GraffitiAttachment>;
    /**
     * Uploads community cover
     */
    groupCover(params: IUploadParams & {
        group_id: number;
        crop_x?: number;
        crop_y?: number;
        crop_x2?: number;
        crop_y2?: number;
    }): Promise<{
        images: {
            url: string;
            width: number;
            height: number;
        }[];
    }>;
    /**
     * Uploads photo stories
     */
    storiesPhoto(params: IUploadParams & {
        group_id?: number;
        add_to_news?: number;
        user_ids?: string[] | string;
        reply_to_story?: string;
        link_text: string;
        link_url: string;
    }): Promise<IStoryObject>;
    /**
     * Uploads video stories
     */
    storiesVideo(params: IUploadParams & {
        group_id?: number;
        add_to_news?: number;
        user_ids?: string[] | string;
        reply_to_story?: string;
        link_text: string;
        link_url: string;
    }): Promise<IStoryObject>;
    /**
     * Uploads poll photo
     */
    pollPhoto(params: IUploadParams & {
        owner_id?: number;
    }): Promise<Record<string, any>>;
    /**
     * Behavior for the upload method
     */
    conduct({ field, params, getServer, serverParams, saveFiles, saveParams, maxFiles, attachmentType, forceBuffer }: IUploadConduct): Promise<any>;
    /**
     * Building form data
     */
    buildPayload({ field, values, maxFiles, attachmentType }: {
        field: string;
        values: (UploadSourceValue | UploadSourceType)[];
        maxFiles: number;
        attachmentType?: string;
    }): Promise<MultipartStream>;
    /**
     * Upload form data
     */
    upload(url: URL | string, { formData, timeout, forceBuffer }: any): Promise<any>;
    /**
     * Custom inspect object
     */
    [inspect.custom](depth: number, options: Record<string, any>): string;
}
